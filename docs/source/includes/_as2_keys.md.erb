# As2 Keys

AS2 Public keys are used by Users who want to connect an AS2 (Applicability Statement v2) compatible client.


## The As2Key object

> Example As2Key Object

```json
{
  "id": 1,
  "as2_partnership_name": "Test",
  "created_at": "2000-01-01T01:00:00Z",
  "fingerprint": "cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0"
}
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<as2-key>
  <id type="integer">1</id>
  <as2_partnership_name>Test</as2_partnership_name>
  <created_at>2000-01-01T01:00:00Z</created_at>
  <fingerprint>cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0</fingerprint>
</as2-key>

```

Attribute | Description
--------- | -----------
  id *int64* | AS2 Key ID 
  as2_partnership_name *string* | AS2 Partnership Name 
  created_at *date-time* | AS2 Key created at date/time 
  fingerprint *string* | Public key fingerprint 
  user_id *int64* | User ID.  Provide a value of `0` to operate the current session's user. 
  public_key *string* | Actual contents of Public key. 

## List As2 Keys


> Example Request

```shell--json
curl "https://app.files.com/api/rest/v1/as2_keys.json?user_id=1&page=1&per_page=1" \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```shell--xml
curl "https://app.files.com/api/rest/v1/as2_keys.xml?user_id=1&page=1&per_page=1" \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```ruby
Files.api_key = 'YOUR_API_KEY'

Files::As2Key.list(
  user_id: 1, 
  page: 1, 
  per_page: 1
)
```

```php
\Files\Files::setApiKey('YOUR_API_KEY');

\Files\As2Key::list(array(
  'user_id' => 1, 
  'page' => 1, 
  'per_page' => 1
));
```

> Example Response

```json
[
  {
    "id": 1,
    "as2_partnership_name": "Test",
    "created_at": "2000-01-01T01:00:00Z",
    "fingerprint": "cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0"
  }
]
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<as2-keys type="array">
  <as2-key>
    <id type="integer">1</id>
    <as2_partnership_name>Test</as2_partnership_name>
    <created_at>2000-01-01T01:00:00Z</created_at>
    <fingerprint>cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0</fingerprint>
  </as2-key>
</as2-keys>

```


### HTTPS Request

`GET /as2_keys`

### Authentication Required

Not available to user API keys or sessions from users that are marked as Shared/Bot users.



### Request Parameters

Parameter | Description
--------- | --------- | -----------
user_id *int64*  | User ID.  Provide a value of `0` to operate the current session's user. 
page *int64*  | Current page number. 
per_page *int64*  | Number of records to show per page.  (Max: 10,000, 1,000 or less is recommended). 
action *string*  | Deprecated: If set to `count` returns a count of matching records rather than the records themselves. 
## Show As2 Key


> Example Request

```shell--json
curl https://app.files.com/api/rest/v1/as2_keys/{id}.json \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```shell--xml
curl https://app.files.com/api/rest/v1/as2_keys/{id}.xml \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```ruby
Files.api_key = 'YOUR_API_KEY'

Files::As2Key.find(id)
```

```php
\Files\Files::setApiKey('YOUR_API_KEY');

\Files\As2Key::find($id);
```

> Example Response

```json
{
  "id": 1,
  "as2_partnership_name": "Test",
  "created_at": "2000-01-01T01:00:00Z",
  "fingerprint": "cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0"
}
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<as2-key>
  <id type="integer">1</id>
  <as2_partnership_name>Test</as2_partnership_name>
  <created_at>2000-01-01T01:00:00Z</created_at>
  <fingerprint>cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0</fingerprint>
</as2-key>

```


### HTTPS Request

`GET /as2_keys/{id}`

### Authentication Required

Not available to user API keys or sessions from users that are marked as Shared/Bot users.



### Request Parameters

Parameter | Description
--------- | --------- | -----------
id *int64* **Required** | As2 Key ID. 
## Create As2 Key


> Example Request

```shell--json
curl https://app.files.com/api/rest/v1/as2_keys.json \
  -X POST \
  -H 'Content-Type: application/json' \
  -d '{"user_id":1,"as2_partnership_name":"Test","public_key":"public_key"}' \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```shell--xml
curl https://app.files.com/api/rest/v1/as2_keys.xml \
  -X POST \
  -H 'Content-Type: application/xml' \
  -d '<as2-key>
       <user_id type="integer">1</user_id>
       <as2_partnership_name>Test</as2_partnership_name>
       <public_key>public_key</public_key>
     </as2-key>'
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```ruby
Files.api_key = 'YOUR_API_KEY'

Files::As2Key.create(
  user_id: 1, 
  as2_partnership_name: "Test", 
  public_key: "public_key"
)
```

```php
\Files\Files::setApiKey('YOUR_API_KEY');

\Files\As2Key::create(array(
  'user_id' => 1, 
  'as2_partnership_name' => "Test", 
  'public_key' => "public_key"
));
```

> Example Response

```json
{
  "id": 1,
  "as2_partnership_name": "Test",
  "created_at": "2000-01-01T01:00:00Z",
  "fingerprint": "cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0"
}
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<as2-key>
  <id type="integer">1</id>
  <as2_partnership_name>Test</as2_partnership_name>
  <created_at>2000-01-01T01:00:00Z</created_at>
  <fingerprint>cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0</fingerprint>
</as2-key>

```


### HTTPS Request

`POST /as2_keys`

### Authentication Required

Not available to user API keys or sessions from users that are marked as Shared/Bot users.



### Request Parameters

Parameter | Description
--------- | --------- | -----------
user_id *int64*  | User ID.  Provide a value of `0` to operate the current session's user. 
as2_partnership_name *string* **Required** | AS2 Partnership Name 
public_key *string* **Required** | Actual contents of Public key. 
## Update As2 Key


> Example Request

```shell--json
curl https://app.files.com/api/rest/v1/as2_keys/{id}.json \
  -X PATCH \
  -H 'Content-Type: application/json' \
  -d '{"as2_partnership_name":"Test"}' \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```shell--xml
curl https://app.files.com/api/rest/v1/as2_keys/{id}.xml \
  -X PATCH \
  -H 'Content-Type: application/xml' \
  -d '<as2-key>
       <as2_partnership_name>Test</as2_partnership_name>
     </as2-key>'
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```ruby
Files.api_key = 'YOUR_API_KEY'

as2_key = Files::As2Key.find(id)
as2_key.update(
  as2_partnership_name: "Test"
)
```

```php
\Files\Files::setApiKey('YOUR_API_KEY');

$as2_key = \Files\As2Key->find(1);
$as2_key->update(array(
  'as2_partnership_name' => "Test"
));
```

> Example Response

```json
{
  "id": 1,
  "as2_partnership_name": "Test",
  "created_at": "2000-01-01T01:00:00Z",
  "fingerprint": "cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0"
}
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<as2-key>
  <id type="integer">1</id>
  <as2_partnership_name>Test</as2_partnership_name>
  <created_at>2000-01-01T01:00:00Z</created_at>
  <fingerprint>cf:cb:d3:26:52:6c:55:88:83:17:13:cf:e7:70:eb:1b:32:37:38:c0</fingerprint>
</as2-key>

```


### HTTPS Request

`PATCH /as2_keys/{id}`

### Authentication Required

Not available to user API keys or sessions from users that are marked as Shared/Bot users.



### Request Parameters

Parameter | Description
--------- | --------- | -----------
id *int64* **Required** | As2 Key ID. 
as2_partnership_name *string* **Required** | AS2 Partnership Name 
## Delete As2 Key


> Example Request

```shell--json
curl https://app.files.com/api/rest/v1/as2_keys/{id}.json \
  -X DELETE \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```shell--xml
curl https://app.files.com/api/rest/v1/as2_keys/{id}.xml \
  -X DELETE \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```ruby
Files.api_key = 'YOUR_API_KEY'

as2_key = Files::As2Key.find(id)
as2_key.delete
```

```php
\Files\Files::setApiKey('YOUR_API_KEY');

$as2_key = \Files\As2Key->find(1);
$as2_key->delete();
```

> Example Response

```json
No response.
```

```xml
No response.
```


### HTTPS Request

`DELETE /as2_keys/{id}`

### Authentication Required

Not available to user API keys or sessions from users that are marked as Shared/Bot users.



### Request Parameters

Parameter | Description
--------- | --------- | -----------
id *int64* **Required** | As2 Key ID. 

