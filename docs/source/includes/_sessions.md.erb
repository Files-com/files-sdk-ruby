# Sessions

You may use a Session to make further API calls using our REST API or SDKs as a specific user.
This is the only way to use the API if you know a username/password but not an API key.


## The Session object

> Example Session Object

```json
{
  "id": 1,
  "language": "en",
  "login_token": "@tok-randomcode",
  "login_token_domain": "https://mysite.files.com",
  "max_dir_listing_size": 1,
  "multiple_regions": true,
  "read_only": "en",
  "root_path": "",
  "site_id": 1,
  "ssl_required": true,
  "tls_disabled": true,
  "two_factor_setup_needed": true,
  "allowed_2fa_method_sms": true,
  "allowed_2fa_method_totp": true,
  "allowed_2fa_method_u2f": true,
  "allowed_2fa_method_yubi": true,
  "use_provided_modified_at": true,
  "windows_mode_ftp": true
}
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<session>
  <id type="integer">1</id>
  <language>en</language>
  <login_token>@tok-randomcode</login_token>
  <login_token_domain>https://mysite.files.com</login_token_domain>
  <max_dir_listing_size type="integer">1</max_dir_listing_size>
  <multiple_regions type="boolean">true</multiple_regions>
  <read_only>en</read_only>
  <root_path></root_path>
  <site_id type="integer">1</site_id>
  <ssl_required type="boolean">true</ssl_required>
  <tls_disabled type="boolean">true</tls_disabled>
  <two_factor_setup_needed type="boolean">true</two_factor_setup_needed>
  <allowed_2fa_method_sms type="boolean">true</allowed_2fa_method_sms>
  <allowed_2fa_method_totp type="boolean">true</allowed_2fa_method_totp>
  <allowed_2fa_method_u2f type="boolean">true</allowed_2fa_method_u2f>
  <allowed_2fa_method_yubi type="boolean">true</allowed_2fa_method_yubi>
  <use_provided_modified_at type="boolean">true</use_provided_modified_at>
  <windows_mode_ftp type="boolean">true</windows_mode_ftp>
</session>

```

Attribute | Description
--------- | -----------
  id *int64* | Session ID 
  language *string* | Session language 
  login_token *string* | Login token. If set, this token will allow your user to log in via browser at the domain in `login_token_domain`. 
  login_token_domain *string* | Domain to use with `login_token`. 
  max_dir_listing_size *int64* | Maximum number of files to retrieve per folder for a directory listing.  This is based on the user's plan. 
  multiple_regions *boolean* | Can access multiple regions? 
  read_only *boolean* | Is this session read only? 
  root_path *string* | Initial root path to start the user's session in. 
  site_id *int64* | Site ID 
  ssl_required *boolean* | Is SSL required for this user?  (If so, ensure all your communications with this user use SSL.) 
  tls_disabled *boolean* | Is strong TLS disabled for this user? (If this is set to true, the site administrator has signaled that it is ok to use less secure TLS versions for this user.) 
  two_factor_setup_needed *boolean* | If true, this user needs to add a Two Factor Authentication method before performing any further actions. 
  allowed_2fa_method_sms *boolean* | Sent only if 2FA setup is needed. Is SMS two factor authentication allowed? 
  allowed_2fa_method_totp *boolean* | Sent only if 2FA setup is needed. Is TOTP two factor authentication allowed? 
  allowed_2fa_method_u2f *boolean* | Sent only if 2FA setup is needed. Is U2F two factor authentication allowed? 
  allowed_2fa_method_yubi *boolean* | Sent only if 2FA setup is needed. Is Yubikey two factor authentication allowed? 
  use_provided_modified_at *boolean* | Allow the user to provide file/folder modified at dates?  If false, the server will always use the current date/time. 
  windows_mode_ftp *boolean* | Does this user want to use Windows line-ending emulation?  (CR vs CRLF) 
  username *string* | Username to sign in as 
  password *string* | Password for sign in 
  otp *string* | If this user has a 2FA device, provide its OTP or code here. 
  partial_session_id *string* | Identifier for a partially-completed login 

## Create user session (log in)


> Example Request

```shell--json
curl https://app.files.com/api/rest/v1/sessions.json \
  -X POST \
  -H 'Content-Type: application/json' \
  -d '{"username":"username","password":"password","otp":"123456"}' \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```shell--xml
curl https://app.files.com/api/rest/v1/sessions.xml \
  -X POST \
  -H 'Content-Type: application/xml' \
  -d '<session>
       <username>username</username>
       <password>password</password>
       <otp>123456</otp>
     </session>'
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```ruby
Files.api_key = 'YOUR_API_KEY'

Files::Session.create(
  username: "username", 
  password: "password", 
  otp: "123456"
)
```

```php
\Files\Files::setApiKey('YOUR_API_KEY');

\Files\Session::create(array(
  'username' => "username", 
  'password' => "password", 
  'otp' => "123456"
));
```

> Example Response

```json
{
  "id": 1,
  "language": "en",
  "login_token": "@tok-randomcode",
  "login_token_domain": "https://mysite.files.com",
  "max_dir_listing_size": 1,
  "multiple_regions": true,
  "read_only": "en",
  "root_path": "",
  "site_id": 1,
  "ssl_required": true,
  "tls_disabled": true,
  "two_factor_setup_needed": true,
  "allowed_2fa_method_sms": true,
  "allowed_2fa_method_totp": true,
  "allowed_2fa_method_u2f": true,
  "allowed_2fa_method_yubi": true,
  "use_provided_modified_at": true,
  "windows_mode_ftp": true
}
```

```xml
<?xml version="1.0" encoding="UTF-8"?>
<session>
  <id type="integer">1</id>
  <language>en</language>
  <login_token>@tok-randomcode</login_token>
  <login_token_domain>https://mysite.files.com</login_token_domain>
  <max_dir_listing_size type="integer">1</max_dir_listing_size>
  <multiple_regions type="boolean">true</multiple_regions>
  <read_only>en</read_only>
  <root_path></root_path>
  <site_id type="integer">1</site_id>
  <ssl_required type="boolean">true</ssl_required>
  <tls_disabled type="boolean">true</tls_disabled>
  <two_factor_setup_needed type="boolean">true</two_factor_setup_needed>
  <allowed_2fa_method_sms type="boolean">true</allowed_2fa_method_sms>
  <allowed_2fa_method_totp type="boolean">true</allowed_2fa_method_totp>
  <allowed_2fa_method_u2f type="boolean">true</allowed_2fa_method_u2f>
  <allowed_2fa_method_yubi type="boolean">true</allowed_2fa_method_yubi>
  <use_provided_modified_at type="boolean">true</use_provided_modified_at>
  <windows_mode_ftp type="boolean">true</windows_mode_ftp>
</session>

```


### HTTPS Request

`POST /sessions`

### Authentication Required

No authentication required; you may call this endpoint without a key or session.



### Request Parameters

Parameter | Description
--------- | --------- | -----------
username *string*  | Username to sign in as 
password *string*  | Password for sign in 
otp *string*  | If this user has a 2FA device, provide its OTP or code here. 
partial_session_id *string*  | Identifier for a partially-completed login 
## Delete user session (log out)


> Example Request

```shell--json
curl https://app.files.com/api/rest/v1/sessions.json \
  -X DELETE \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```shell--xml
curl https://app.files.com/api/rest/v1/sessions.xml \
  -X DELETE \
  -H 'X-FilesAPI-Key: YOUR_API_KEY'
```

```ruby
Files.api_key = 'YOUR_API_KEY'

Files::Session.delete
```

```php
\Files\Files::setApiKey('YOUR_API_KEY');

\Files\Session::delete();
```

> Example Response

```json
No response.
```

```xml
No response.
```


### HTTPS Request

`DELETE /sessions`

### Authentication Required

No authentication required; you may call this endpoint without a key or session.



